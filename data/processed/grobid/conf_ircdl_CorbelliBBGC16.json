{"bibliography":{"title":"Layout Analysis and Content Classification in Digitized Books","authors":[{"person_name":{"surname":"Corbelli","first_name":"Andrea"},"affiliations":[{"department":"Dipartimento di Ingegneria \"Enzo Ferrari\"","institution":"Università degli Studi di Modena e Reggio Emilia","laboratory":null}],"email":"andrea.corbelli@unimore.it"},{"person_name":{"surname":"Baraldi","first_name":"Lorenzo"},"affiliations":[{"department":"Dipartimento di Ingegneria \"Enzo Ferrari\"","institution":"Università degli Studi di Modena e Reggio Emilia","laboratory":null}],"email":"lorenzo.baraldi@unimore.it"},{"person_name":{"surname":"Balducci","first_name":"Fabrizio"},"affiliations":[{"department":"Dipartimento di Ingegneria \"Enzo Ferrari\"","institution":"Università degli Studi di Modena e Reggio Emilia","laboratory":null}],"email":"fabrizio.balducci@unimore.it"},{"person_name":{"surname":"Grana","first_name":"Costantino"},"affiliations":[{"department":"Dipartimento di Ingegneria \"Enzo Ferrari\"","institution":"Università degli Studi di Modena e Reggio Emilia","laboratory":null}],"email":"costantino.grana@unimore.it"},{"person_name":{"surname":"Cucchiara","first_name":"Rita"},"affiliations":[{"department":"Dipartimento di Ingegneria \"Enzo Ferrari\"","institution":"Università degli Studi di Modena e Reggio Emilia","laboratory":null}],"email":"rita.cucchiara@unimore.it"}],"date":null,"ids":{"DOI":"10.1007/978-3-319-56300-8","arXiv":null},"target":null,"publisher":null,"journal":null,"series":null,"scope":null},"keywords":["Layout analysis","Svm","Content classification","Annotation interfaces"],"citations":{"b0":{"title":"ICDAR 2003 page segmentation competition","authors":[{"person_name":{"surname":"Antonacopoulos","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Gatos","first_name":"B"},"affiliations":[],"email":null},{"person_name":{"surname":"Karatzas","first_name":"D"},"affiliations":[],"email":null}],"date":{"year":"2003","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":688,"to_page":688}}},"b1":{"title":"Automatic document classification and indexing in high-volume applications","authors":[{"person_name":{"surname":"Appiani","first_name":"E"},"affiliations":[],"email":null},{"person_name":{"surname":"Cesarini","first_name":"F"},"affiliations":[],"email":null},{"person_name":{"surname":"Colla","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Diligenti","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Gori","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Marinai","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Soda","first_name":"G"},"affiliations":[],"email":null}],"date":{"year":"2001","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Int. J. Doc. Anal. Recogn","series":null,"scope":{"volume":4,"pages":{"from_page":69,"to_page":83}}},"b2":{"title":"Image segmentation by shape-directed covers","authors":[{"person_name":{"surname":"Baird","first_name":"H"},"affiliations":[],"email":null},{"person_name":{"surname":"Jones","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Fortune","first_name":"S"},"affiliations":[],"email":null}],"date":{"year":"1990","month":"06","day":null},"ids":null,"target":null,"publisher":null,"journal":null,"series":null,"scope":{"volume":1,"pages":{"from_page":820,"to_page":825}}},"b3":{"title":"A deep siamese network for scene detection in broadcast videos","authors":[{"person_name":{"surname":"Baraldi","first_name":"L"},"affiliations":[],"email":null},{"person_name":{"surname":"Grana","first_name":"C"},"affiliations":[],"email":null},{"person_name":{"surname":"Cucchiara","first_name":"R"},"affiliations":[],"email":null}],"date":{"year":"2015","month":null,"day":null},"ids":null,"target":null,"publisher":"ACM","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":1199,"to_page":1202}}},"b4":{"title":"Dynamic pictorial ontologies for video digital libraries annotation","authors":[{"person_name":{"surname":"Bertini","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Del Bimbo","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Serra","first_name":"G"},"affiliations":[],"email":null},{"person_name":{"surname":"Torniai","first_name":"C"},"affiliations":[],"email":null},{"person_name":{"surname":"Cucchiara","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Grana","first_name":"C"},"affiliations":[],"email":null},{"person_name":{"surname":"Vezzani","first_name":"R"},"affiliations":[],"email":null}],"date":{"year":"2009","month":null,"day":null},"ids":null,"target":null,"publisher":"ACM","journal":"IEEE MultiMedia Magazine","series":null,"scope":{"volume":null,"pages":{"from_page":42,"to_page":51}}},"b5":{"title":"Encoding of modified XY trees for document classification","authors":[{"person_name":{"surname":"Cesarini","first_name":"F"},"affiliations":[],"email":null},{"person_name":{"surname":"Lastri","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Marinai","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Soda","first_name":"G"},"affiliations":[],"email":null}],"date":{"year":"2001","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":1131,"to_page":1136}}},"b6":{"title":"Hybrid page segmentation with efficient whitespace rectangles extraction and grouping","authors":[{"person_name":{"surname":"Chen","first_name":"K"},"affiliations":[],"email":null},{"person_name":{"surname":"Yin","first_name":"F"},"affiliations":[],"email":null},{"person_name":{"surname":"Liu","first_name":"C"},"affiliations":[],"email":null}],"date":{"year":"2013","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":958,"to_page":962}}},"b7":{"title":"Recognition of tables and forms","authors":[{"person_name":{"surname":"Coüasnon","first_name":"B"},"affiliations":[],"email":null},{"person_name":{"surname":"Lemaitre","first_name":"A"},"affiliations":[],"email":null}],"date":{"year":"2014","month":null,"day":null},"ids":null,"target":null,"publisher":"Springer","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":647,"to_page":677}}},"b8":{"title":"Learning to Recognize Critical Cells in Document Tables","authors":[{"person_name":{"surname":"Mauro","first_name":"N"},"affiliations":[],"email":null},{"person_name":{"surname":"Ferilli","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Esposito","first_name":"F"},"affiliations":[],"email":null}],"date":{"year":"2013","month":null,"day":null},"ids":{"DOI":"10.1007/978-3-642-35834-0_12","arXiv":null},"target":null,"publisher":"Springer","journal":null,"series":null,"scope":{"volume":354,"pages":{"from_page":105,"to_page":116}}},"b9":{"title":"Use of the Hough transformation to detect lines and curves in pictures","authors":[{"person_name":{"surname":"Duda","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Hart","first_name":"P"},"affiliations":[],"email":null}],"date":{"year":"1972","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Commun. ACM","series":null,"scope":{"volume":15,"pages":{"from_page":11,"to_page":15}}},"b10":{"title":"Machine learning for intelligent processing of printed documents","authors":[{"person_name":{"surname":"Esposito","first_name":"F"},"affiliations":[],"email":null},{"person_name":{"surname":"Malerba","first_name":"D"},"affiliations":[],"email":null},{"person_name":{"surname":"Lisi","first_name":"F"},"affiliations":[],"email":null}],"date":{"year":"2000","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"J. Intell. Inf. Syst","series":null,"scope":{"volume":14,"pages":{"from_page":175,"to_page":198}}},"b11":{"title":"Layout analysis and content enrichment of digitized books","authors":[{"person_name":{"surname":"Grana","first_name":"C"},"affiliations":[],"email":null},{"person_name":{"surname":"Serra","first_name":"G"},"affiliations":[],"email":null},{"person_name":{"surname":"Manfredi","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Coppi","first_name":"D"},"affiliations":[],"email":null},{"person_name":{"surname":"Cucchiara","first_name":"R"},"affiliations":[],"email":null}],"date":{"year":"2016","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Multimed. Tools Appl","series":null,"scope":{"volume":75,"pages":{"from_page":3879,"to_page":3900}}},"b12":{"title":"Recursive XY cut using bounding boxes of connected components","authors":[{"person_name":{"surname":"Ha","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Haralick","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Phillips","first_name":"I"},"affiliations":[],"email":null}],"date":{"year":"1995","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":2,"pages":{"from_page":952,"to_page":955}}},"b13":{"title":"Table structure identification from document images: a survey","authors":[{"person_name":{"surname":"Kaur","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Sharma","first_name":"D"},"affiliations":[],"email":null}],"date":{"year":"2015","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Int. J. Innov. Adv. Comput. Sci","series":null,"scope":{"volume":4,"pages":{"from_page":581,"to_page":585}}},"b14":{"title":"Segmentation of page images using the area Voronoi diagram","authors":[{"person_name":{"surname":"Kise","first_name":"K"},"affiliations":[],"email":null},{"person_name":{"surname":"Sato","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Iwata","first_name":"M"},"affiliations":[],"email":null}],"date":{"year":"1998","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Comput. Vis. Image Underst","series":null,"scope":{"volume":70,"pages":{"from_page":370,"to_page":382}}},"b15":{"title":"The scribo module of the olena platform: a free software framework for document image analysis","authors":[{"person_name":{"surname":"Lazzara","first_name":"G"},"affiliations":[],"email":null},{"person_name":{"surname":"Levillain","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Géraud","first_name":"T"},"affiliations":[],"email":null},{"person_name":{"surname":"Jacquelet","first_name":"Y"},"affiliations":[],"email":null},{"person_name":{"surname":"Marquegnies","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Crépin-Leblond","first_name":"A"},"affiliations":[],"email":null}],"date":{"year":"2011","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":252,"to_page":258}}},"b16":{"title":"A fast preprocessing method for table boundary detection: narrowing down the sparse lines using solely coordinate information","authors":[{"person_name":{"surname":"Liu","first_name":"Y"},"affiliations":[],"email":null},{"person_name":{"surname":"Mitra","first_name":"P"},"affiliations":[],"email":null},{"person_name":{"surname":"Giles","first_name":"C"},"affiliations":[],"email":null}],"date":{"year":"2008","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":431,"to_page":438}}},"b17":{"title":"Detection and segmentation of tables and math-zones from document images","authors":[{"person_name":{"surname":"Mandal","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Chowdhury","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Das","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Chanda","first_name":"B"},"affiliations":[],"email":null}],"date":{"year":"2006","month":null,"day":null},"ids":null,"target":null,"publisher":"ACM","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":841,"to_page":846}}},"b18":{"title":"A simple and effective table detection system from document images","authors":[{"person_name":{"surname":"Mandal","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Chowdhury","first_name":"S"},"affiliations":[],"email":null},{"person_name":{"surname":"Das","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Chanda","first_name":"B"},"affiliations":[],"email":null}],"date":{"year":"2006","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Int. J. Doc. Anal. Recogn. (IJDAR)","series":null,"scope":{"volume":8,"pages":{"from_page":172,"to_page":182}}},"b19":{"title":"Robust detection of lines using the progressive probabilistic Hough transform","authors":[{"person_name":{"surname":"Matas","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Galambos","first_name":"C"},"affiliations":[],"email":null},{"person_name":{"surname":"Kittler","first_name":"J"},"affiliations":[],"email":null}],"date":{"year":"2000","month":null,"day":null},"ids":{"DOI":"10.1006/cviu.1999.0831","arXiv":null},"target":"http://dx.doi.org/10.1006/cviu.1999.0831","publisher":null,"journal":"Comput. Vis. Image Underst","series":null,"scope":{"volume":78,"pages":{"from_page":119,"to_page":137}}},"b20":{"title":"Empirical performance evaluation of graphics recognition systems","authors":[{"person_name":{"surname":"Phillips","first_name":"I"},"affiliations":[],"email":null},{"person_name":{"surname":"Chhabra","first_name":"A"},"affiliations":[],"email":null}],"date":{"year":"1999","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"IEEE Trans. Pattern Anal. Mach. Intell","series":null,"scope":{"volume":21,"pages":{"from_page":849,"to_page":870}}},"b21":{"title":"Machine learning in automated text categorization","authors":[{"person_name":{"surname":"Sebastiani","first_name":"F"},"affiliations":[],"email":null}],"date":{"year":"2002","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"ACM Comput. Surv. (CSUR)","series":null,"scope":{"volume":34,"pages":{"from_page":1,"to_page":47}}},"b22":{"title":"An overview of the Tesseract OCR engine","authors":[{"person_name":{"surname":"Smith","first_name":"R"},"affiliations":[],"email":null}],"date":{"year":"2007","month":null,"day":null},"ids":null,"target":null,"publisher":"IEEE","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":629,"to_page":633}}},"b23":{"title":"A survey of table recognition","authors":[{"person_name":{"surname":"Zanibbi","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Blostein","first_name":"D"},"affiliations":[],"email":null},{"person_name":{"surname":"Cordy","first_name":"J"},"affiliations":[],"email":null}],"date":{"year":"2004","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Doc. Anal. Recogn","series":null,"scope":{"volume":7,"pages":{"from_page":1,"to_page":16}}}},"sections":[{"title":"Introduction","paragraphs":[{"text":"Document digitization plays a key role in the preservation and diffusion of historical books: digital archives, indeed, protect fragile and valuable originals from handling, while still presenting their content to a vastly increased audience. Just like multimodal digital libraries need to be properly organized via computer vision and multimedia algorithms [4,5], the simple digital copy of an archive is often not sufficient to present its content in an effective and enjoyable way: beyond the application of Optical Character Recognition (OCR) methods, which are nowadays almost completely reliable, graphical elements, like tables, images and charts, should be automatically segmented and categorized.","refs":[{"start":358,"end":361,"marker":"bibr","target":"#b3"},{"start":361,"end":363,"marker":"bibr","target":"#b4"}]},{"text":"Despite the recent advances in this field, layout and content analysis are still unsolved problems due to the high variability of the possible content. In this setting, we propose a novel pipeline for the analysis of structured documents, which includes a page layout analysis algorithm to segment the input document into coherent regions, and a content classification strategy to classify the actual content of each region. Our layout analysis builds upon the Recursive XY-Cut algorithm, and extends it with an SVM-aided detector for graphical elements; then, tables are identified by means of the Hough transform, and supervised machine learning techniques are employed in conjuction with local features to classify other graphical elements, like images, charts and scores. The final output is a structured annotation in JSON format, which can be read and modified by an annotation interface, useful for correcting mistakes in the automatic analysis, and by a visualization interface.","refs":[]},{"text":"The rest of this paper is structured as follows: Section 2 gives a brief discussion of the state of the art in layout analysis, Sect. 3 explains the main components of our pipeline, and Sect. 4 reports the performance evaluation and a comparison against the state of the art.","refs":[]}]},{"title":"Related Work","paragraphs":[{"text":"Layout analysis has been an active area of research since the seventies. There are two main approaches to layout analysis, bottom up and top down.","refs":[]},{"text":"Top-down methods, such as XY cuts [6,13] or methods that exploit white streams [2] or projection profiles [11] are usually fast but tend to fail when dealing with complex layouts. Bottom-up methods are instead more flexible and process the image page from the pixel level and subsequently aggregate into higher level regions but with an higher computational complexity.","refs":[{"start":34,"end":37,"marker":"bibr","target":"#b5"},{"start":37,"end":40,"marker":"bibr","target":"#b12"},{"start":79,"end":82,"marker":"bibr","target":"#b1"},{"start":106,"end":110,"marker":"bibr","target":"#b10"}]},{"text":"These approaches are usually based on mathematical morphology, Connected Components (CCs), Voronoi diagrams [15] or run-length smearing [22]. Many other methods exist which do not fit exactly into either of these categories: the so called mixed or hybrid approaches try to combine the high speed of the topdown approaches with the robustness of the bottom-up ones. Chen et al. [7] propose a method based on whitespace rectangles extraction and grouping: initially the foreground CCs are extracted and linked into chains according to their horizontal adjacency relationship; whitespace rectangles are then extracted from the gap between horizontally adjacent CCs; CCs and whitespaces are progressively grouped and filtered to form text lines and afterward text blocks. Lazzara et al. [16] provide a chain of steps to first recognize text regions and successively non-text elements. Foreground CCs are extracted, then delimiters (such as lines, whitespaces and tab-stop) are detected with object alignment and morphological algorithms. Since text components are usually well aligned, have a uniform size and are close to each other, the authors propose to regroup CCs by looking for their neighbors. Filters can also be applied on a group of CCs to validate the link between two CCs. Another algorithm based on whitespace analysis has been proposed by Baird et al. [3]: the algorithm uses the white space in the page as a layout delimiter and tries to find the biggest background empty rectangles to extract connected regions.","refs":[{"start":108,"end":112,"marker":"bibr","target":"#b14"},{"start":136,"end":140,"marker":"bibr","target":"#b21"},{"start":377,"end":380,"marker":"bibr","target":"#b6"},{"start":783,"end":787,"marker":"bibr","target":"#b15"},{"start":1363,"end":1366,"marker":"bibr","target":"#b2"}]},{"text":"Kaur et al. [14] and Zanibbi et al. [24] present surveys about the approaches applied to table recognition. Mandal et al. dealt with the detection and segmentation of tables and formulas [18,19], and proposed a detector with the heuristic that each table has distinct columns which implies that gaps between the fields are substantially larger than the gaps between the words in text lines; a similar approach was presented by Ferilli et al. in [9]. Liu et al. [17] deal with table boundary detection and content extraction considering the sparse-line property of table rows, while Bertrand and Lemaitre [8] focus on the recognition of tables and forms.","refs":[{"start":12,"end":16,"marker":"bibr","target":"#b13"},{"start":36,"end":40,"marker":"bibr","target":"#b23"},{"start":187,"end":191,"marker":"bibr","target":"#b17"},{"start":191,"end":194,"marker":"bibr","target":"#b18"},{"start":445,"end":448,"marker":"bibr","target":"#b8"},{"start":461,"end":465,"marker":"bibr","target":"#b16"},{"start":604,"end":607,"marker":"bibr","target":"#b7"}]}]},{"title":"Our Proposal","paragraphs":[]},{"title":"Page Layout Segmentation","paragraphs":[{"text":"The first stage of our pipeline is the segmentation of the input page into coherent regions. Our layout analysis step builds upon the well known XY-Cut algorithm [13], and extends it to go beyond its limitations. XY-Cut is an iterative top-down page segmentation algorithm, which takes as input a Region of Interest (ROI) and segments it into rectangular regions which are separated by white spaces. In particular, the algorithm projects the pixels' values on the vertical and horizontal axes of the ROI, and then finds low density regions in the projection histograms, which corresponds to white spaces. If a low density point is found on at least one of the projections, the ROI is split into two subregions, which are then further analyzed (and possibly split) in the next iteration. The resulting segmentation is therefore composed by a set of rectangular regions, each of which is separated from the others by white space on all sides.","refs":[{"start":162,"end":166,"marker":"bibr","target":"#b12"}]},{"text":"The XY-Cut algorithm works well with simple layouts, where elements are actually rectangular and separated by vertical or horizontal white spaces which span on all their sides. However, it often happens that illustrations have complex shapes, or are surrounded by text on more than one side, thus making the application of such a simple technique insufficient (see Fig. 1a for an example). To complete the layout segmentation phase, we therefore apply an additional step whose aim is to detect illustrations (and their corresponding boundaries) inside the page, and which is inspired by the algorithm proposed in [12].","refs":[{"start":370,"end":372,"marker":"figure","target":"#fig_0"},{"start":613,"end":617,"marker":"bibr","target":"#b11"}]},{"text":"The core assumption of this step is that local autocorrelation statistics are sufficient to distinguish between text and illustration. The autocorrelation matrix of a region, indeed, is an effective feature for finding repeating patterns and is particularly suited in this case since textual textures have a pronounced orientation that heavily differs from that of illustrations. The original image is subdivided into square blocks of size n×n, and for each block the autocorrelation matrix C(k, l), with k, l ∈ [-n/2, n/2], is computed. Then, the autocorrelation matrix is encoded into a directional histogram w(•), in which each bin contains the sum of the pixels along that direction. Formally,","refs":[]},{"text":"We compute the directional histogram in the range θ ∈ [0, 180 • ], and quantize θ with a step of 1 • , and r with a step of 1 pixel. The histogram is then concatenated with the vertical and horizontal projections of the autocorrelation matrix, to enhance the repeating pattern of the text lines. The resulting descriptor is fed to a two-class SVM classifier with RBF kernel, trained to distinguish between blocks of text and blocks of illustrations.","refs":[]},{"text":"Given a region segmented by XY-Cut, we classify each block inside the region as text or illustration, and identify the boundaries of illustrations by finding the connected components created by illustration blocks. Once illustrations have been detected, XY-Cut is again applied on a temporary image where illustrations are removed. The final result of the layout segmentation process is the union of the illustration regions and of the regions found by the second execution of XY-Cut. Figure 1 gives an example of the overall process.","refs":[{"start":492,"end":493,"marker":"figure","target":"#fig_0"}]}]},{"title":"Table Detection","paragraphs":[{"text":"We developed a simple yet effective method for table detection which is based on the Hough transform [10] and heuristic rules. The Hough transform allows to automatically detect lines in an image, and it is therefore appropriate to detect structures like tables which contain vertical and horizontal lines.","refs":[{"start":101,"end":105,"marker":"bibr","target":"#b9"}]},{"text":"The Hough transform finds objects within a certain class of shapes using a voting procedure, which is carried out in a parameter space from which object candidates are obtained as local maxima, in a so-called accumulator space that is explicitly constructed by the algorithm (Fig. 2).","refs":[{"start":281,"end":282,"marker":"figure","target":"#fig_1"}]},{"text":"A straight line in the image space can be expressed as:","refs":[]},{"text":"y = mx + b in the Cartesian coordinate system, with the associated point (m, b) in the parameter space r = x cos θ + y sin θ in the Polar coordinate system with the associated point (r, θ), where r is the distance from the origin to the closest point on the straight line, and θ is the angle between the x axis and the line connecting the origin with that closest point.","refs":[]},{"text":"The Polar coordinate system permits to overcome the problem of vertical lines, which would rise unbounded values of the slope parameter m in the Cartesian one. Given a single point, the set of all straight lines passing through that point corresponds to a sinusoidal curve in the (r, θ) plane, which is unique to that point. A set of two or more points that form a straight line will produce sinusoids which cross at (r, θ) for that line. In general, a line can be detected by finding the number of intersections between curves: the more curves intersect, the more likely is that a line may be found with those parameters. A threshold can be defined on the minimum number of intersections needed to detect a line.","refs":[]},{"text":"The proposed algorithm starts detecting all the lines of the image region, using the implementation proposed in [20], and selects the most promising ones using some heuristics; finally, recursively, it uses the detected lines to build a set of rectangles merging those that have an intersection. In this way, starting from small adjacent table pieces (often separated due to inaccuracies of the Hough Transform), the table area is detected.","refs":[{"start":112,"end":116,"marker":"bibr","target":"#b19"}]},{"text":"The pseudo-code for the table detector is provided in Algorithm 1.","refs":[]},{"text":"It should be noted that, even if the goal of the system is the attribution of meaning to a region which comes from the Recursive XY-Cut, the proposed algorithm is able to detect multiple table structures in a whole page, ensuring that each structure found is the largest (piece of) table which contains all other detected pieces of (the same) table.","refs":[]},{"text":"Even though the results of the Hough Transform depend on its parameters values and on the properties of the original image, the implementation of the Algorithm 1. proposed algorithm is scalable and permits great customization: in particular, the method which finds the longest vertical line that intersects an horizontal one (candidate to be a side of the rectangle) permits to specify:","refs":[]},{"text":"-the minimum number of vertical lines which must intersect an horizontal one for a candidate horizontal line to be considered -the minimum length of the maximum vertical line which must intersect an horizontal one -the offset (number of pixels) for considering an horizontal line intersecting a vertical one -the offset (number of pixels) for considering a vertical line intersecting an horizontal one","refs":[]}]},{"title":"Content Classification","paragraphs":[{"text":"The classification step is necessary to assign each region to a specific class. In particular, in addition to tables, we consider six different classes: text, images, charts and graphs, formulas, scores, and borderless tables. An example of each class is given in Fig. 3.","refs":[{"start":269,"end":270,"marker":"figure","target":"#fig_2"}]},{"text":"In order to classify each region, dense SIFT descriptors are computed using the Harris-Laplace detector. This step results in a variable number of 128-dimensional descriptors for each region. To obtain a representation for a region, with fixed size, we summarize SIFT descriptors using the Bag-of-Words technique. To include spatial information into the feature vector we also add the position, the dimensions and the aspect ratio of the image bounding box. A SVM classifier with RBF kernel is then trained using the feature vectors described earlier. The output of this classifier is the class that will be assigned to the region.","refs":[]}]},{"title":"JSON Description","paragraphs":[{"text":"The output of the overall pipeline is a structured JSON description. For each page, indeed, a JSON file is created with the corresponding OCR results for each text entry and with all the illustrations found inside the page. Moreover, the proposed JSON schema allows textual entries to be linked together. This can be particularly beneficial in the case of encyclopedias, in which each paragraph belongs to a lemma.","refs":[]},{"text":"An example of the JSON description is reported in Listing 1.1. The entries element contains all the textual entries of the page. Each entry contains the body of the paragraph, the column the entry belongs to (in case of multi-column documents), a boolean is tabbed that indicates whether the first line of the paragraph is tabbed or not, and a reference to the lemma. In case the considered text entry is a lemma, the opening element is used set a lemma identifier, which can in turn be used to reference other paragraphs, using the lemma ref element. Each text entry also contains the location of the text region inside the page.","refs":[]},{"text":"Graphical elements are instead grouped into the graphics element. Each of them is described by its own caption, position and size inside the page, and contain a reference to the lemma it belongs to. It also contains a type field which reports the category of the graphic element, obtained with the content classification pipeline.","refs":[]}]},{"title":"Annotation and Visualization Interfaces","paragraphs":[{"text":"Two more tools have been developed, the first one is an annotation tool which allows a user to visualize the result of the analysis process and, if needed, allows { \" filename \": \" 0006_ 00 _T_V 01. K_scaled . png \", \" layout \": { \" entries \": [ { \" body \": \" Sottilissimo nell ' ordine ionico greco , era quivi ordinariamente ...\" , \" centered \": false , \" closing \": { \" author \": \"\" , \" selected \": false , \" sign \": \"\" , \" valid \": false }, \" col \": 0 , \" is_tabbed \": true , \" lemma_ref \": { \" major \": \" ABACO \", \" minor \": \"\" , \" pageNumber \": 5 , }, \" opening \": { \" major \": \"\" , \" minor \": \"\" , }, \" par \": { \" rect \": { \" height \": 137, \" width \": 562, \"x\": 125, \"y\": 835 }, }, }, ] , \" graphics \": [ { \" caption \": { \" rect \": { \" height \": 24, \" width \": 347, \"x\": 524, \"y\": 788 }, \" text \": \" CAPITELLI DELL ' ATRIO DI S. MARCO A VENEZIA \", }, \" type \": 'IMAGE ', \" hascaption \": true , \" image \": { \" rect \": { \" height \": 639, \" width \": 1162, \"x\": 123, \"y\": 150 }, }, \" lemma_ref \": { \" major \": \"\" , \" minor \": \"\" , \" pageNumber \": 5 , \"x\": 0 , \"y\": 0 }, }, ] , } } Listing 1.1. JSON Description of a sample page with one text entry and one graphic element for modifications to the segmentation results. This tool is useful for many reasons: it makes the creation of an annotated dataset possible for all the subsequent learning and evaluation processes and allows users to apply corrections to the processed data. A screenshot of the annotation tool is reported in Fig. 4.","refs":[{"start":1489,"end":1490,"marker":"figure","target":null}]},{"text":"The second tool is a visualization interface used to present and browse the content of the encyclopedia, making all the information easily accessible. This tool lets the users access the content at different levels and from different points of view, it's possible to browse the encyclopedia page by page, lemma by lemma and image by image in each volume. The full text is also accessible and readable in HTML format. Hovering the cursor over a page shows the underlying extracted content and double clicking on it takes the user to a different view which displays the digitized version of the document. The visualization tool is visible in Fig. 5.","refs":[{"start":645,"end":646,"marker":"figure","target":null}]}]},{"title":"Experimental Evaluation","paragraphs":[{"text":"The performance evaluation of layout analysis algorithms can be conducted using two different approaches, namely pixel-level and region-level. The first evaluates how each pixel has been classified in a single page comparing the class assigned to the pixel with the class assigned to the same pixel in the ground truth annotation, the accuracy for a single page is then calculated as the percentage of correctly classified pixels. A region-level approach tries instead to find the best matching between areas of a page that are semantically coherent, called regions, between the analyzed page and the ground truth annotation. Once the matching process is completed, the accuracy value for a single page is calculated with regard to the matching quality. In both cases a cumulative accuracy measure can be calculated as the mean accuracy over multiple pages.","refs":[]},{"text":"Since we use a top-down page segmentation algorithm in our method and the final output of the page processing pipeline consists of polygons containing pixels of a page classified of the same type, we have chosen a region-level approach to performance evaluation. We used the matching method described by Phillips and Chhabra [21], which has also been used in the ICDAR 2003 page segmentation competition [1]. We used the suggested acceptance threshold and rejection threshold, respectively 0.85 and 0.05, and we used intersection over union as a similarity function to determine match scores. To evaluate the classification performances we compared the results against the ground truth annotations creating a confusion matrix and calculating accuracy values, one for each class and a cumulative one.","refs":[{"start":325,"end":329,"marker":"bibr","target":"#b20"},{"start":404,"end":407,"marker":"bibr","target":"#b0"}]},{"text":"All our tests have been conducted on the first volume of the \"Enciclopedia Treccani\" (http://www.treccani.it), which was published in 1929 and is composed of 999 pages. The block size n was set to 64, and we used the Tesseract OCR [23]. Considering the Table detector algorithm, all the parameters, both for the Hough Transform and for the heuristic rules, have been set empirically performing several tests on the first 20 tables of the dataset.","refs":[{"start":231,"end":235,"marker":"bibr","target":"#b22"}]},{"text":"Concerning the page segmentation algorithm step we have compared three different algorithms, the standard XY-Cut, the Whitespace Analysis algorithm, proposed by Baird in [3], and, finally our method. Results are shown in Table 1 and it is clear how our method performs largely better than the other two.","refs":[{"start":170,"end":173,"marker":"bibr","target":"#b2"},{"start":227,"end":228,"marker":"table","target":"#tab_1"}]},{"text":"Classification results are shown in Tables 2 and3. ","refs":[{"start":43,"end":44,"marker":"table","target":"#tab_2"},{"start":48,"end":49,"marker":"table","target":"#tab_3"}]}]},{"title":"Conclusion","paragraphs":[{"text":"We presented a complete pipeline for layout analysis and content classification in digitalized documents. The layout analysis algorithm is based on the Recursive XY-Cut and an SVM-aided illustration detection, while the content classification pipeline builds on the Hough transform for table classification and on local features for the classification of images, scores, formulas and charts. The final output is a JSON description, which can in turn be used by two tools, useful for the display and correction of analyzed data. Experimental results showed the effectiveness of our method when tested on the first volume of the \"Enciclopedia Treccani\".","refs":[]}]}],"tables":{"tab_0":{"heading":"Table detection","description":"Lines ← HoughLines(parameters); /* each line identified by two points (xi, yi) and (xj, yj)","rows":[["","*/"],["Horizontal lines ← FindHorizontals(lines);",""],["/* xi = xj ∧ yi = yj","*/"],["Vertical lines ← FindVerticals(lines);",""],["/* xi = xj ∧ yi = yj","*/"],["tables = { };",""],["forall the hl ∈ Horizontal lines do",""],["if ∃ vl ∈ Vertical lines : vl ∩ hl = ∅ ∧ length(vl)>lenght(l) ∀ l ∈ {l : l ∈",""],["Vertical lines, l ∩ hl = ∅} then",""],["rect ← BoundingRectangle(hl,vl)",""],["end",""],["while ∃ t ∈ tables : t ∩ rect = ∅ do",""],["tables = tables-{ t };",""],["rect ← merge(rect,t);",""],["end",""],["tables ← rect;",""],["end",""]]},"tab_1":{"heading":"Table 1 .","description":"Page segmentation experimental results.","rows":[["XY-Cut Whitespace analysis Our method"],["Accuracy 61.8%","71.4%","93.8%"]]},"tab_2":{"heading":"Table 2 .","description":"Classification accuracies","rows":[["Class","# Elements Accuracy"],["Images","1102","0.71"],["Graphics","145","0.66"],["Formulas","535","0.77"],["Tables","91","0.99"],["Scores","132","0.08"],["Borderless tables","142","0.10"],["Text","13628","0.96"],["TOTAL","15775","0.92"]]},"tab_3":{"heading":"Table 3 .","description":"Confusion matrix for classification results of the SVM classifier.","rows":[["","","","","Truth","","",""],["","","I","G","F","S","BT","Txt"],["","I","74.8%","13.2%","5.2%","0.8%","0.8%","5.3%"],["","G","6.6%","70.6%","11.0%","1.5%","1.5%","8.8%"],["Prediction","F S BT Txt","3.2% 16.0% 4.1% 0.2%","4.5% 6.4% 7.4% 0.3%","77.4% 62.4% 37.7% 1.8%","0% 8.8% 0% 0%","2.1% 1.6% 11.5% 0.3%","12.8% 4.8% 39.3% 97.3%"]]}},"abstract":{"title":"Abstract","paragraphs":[{"text":"Automatic layout analysis has proven to be extremely important in the process of digitization of large amounts of documents. In this paper we present a mixed approach to layout analysis, introducing a SVMaided layout segmentation process and a classification process based on local and geometrical features. The final output of the automatic analysis algorithm is a complete and structured annotation in JSON format, containing the digitalized text as well as all the references to the illustrations of the input page, and which can be used by visualization interfaces as well as annotation interfaces. We evaluate our algorithm on a large dataset built upon the first volume of the \"Enciclopedia Treccani\".","refs":[]}]}}
{"bibliography":{"title":"Shorthand Secrets: Deciphering Astrid Lindgren's Stenographed Drafts with HTR Methods","authors":[{"person_name":{"surname":"Heil","first_name":"Raphaela"},"affiliations":[{"department":"Department of Information Technology","institution":"Uppsala University","laboratory":null}],"email":"raphaela.heil@it.uu.se"},{"person_name":{"surname":"Nauwerck","first_name":"Malin"},"affiliations":[{"department":"Department of Literature and Rhetoric","institution":"Uppsala University","laboratory":null},{"department":null,"institution":"The Swedish Institute for Children's Books","laboratory":null}],"email":"malin.nauwerck@barnboksinstitutet.se"},{"person_name":{"surname":"Hast","first_name":"Anders"},"affiliations":[{"department":"Department of Information Technology","institution":"Uppsala University","laboratory":null},{"department":null,"institution":"The Swedish Institute for Children's Books","laboratory":null}],"email":"anders.hast@it.uu.se"}],"date":null,"ids":null,"target":null,"publisher":null,"journal":null,"series":null,"scope":null},"keywords":["Stenography","Digital transcription","Handwritten text recognition","Document image analysis"],"citations":{"b0":{"title":"Denna dagen ett liv. En biografi ver Astrid Lindgren","authors":[{"person_name":{"surname":"Andersen","first_name":"J"},"affiliations":[],"email":null}],"date":{"year":"2014","month":null,"day":null},"ids":null,"target":null,"publisher":"Norstedts","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":180,"to_page":180}}},"b1":{"title":"Semi-automatic data annotation guided by feature space projection","authors":[{"person_name":{"surname":"Benato","first_name":"B"},"affiliations":[],"email":null},{"person_name":{"surname":"Gomes","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Telea","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Falco","first_name":"A"},"affiliations":[],"email":null}],"date":{"year":"2021","month":null,"day":null},"ids":{"DOI":"10.1016/j.patcog.2020.107612","arXiv":null},"target":"http://www.sciencedirect.com/science/article/pii/S0031320320304155","publisher":null,"journal":"Pattern Recognition","series":null,"scope":{"volume":109,"pages":{"from_page":107612,"to_page":107612}}},"b2":{"title":"Comparing visual-interactive labeling with active learning: An experimental study","authors":[{"person_name":{"surname":"Bernard","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Hutter","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Zeppelzauer","first_name":"M"},"affiliations":[],"email":null},{"person_name":{"surname":"Fellner","first_name":"D"},"affiliations":[],"email":null},{"person_name":{"surname":"Sedlmair","first_name":"M"},"affiliations":[],"email":null}],"date":{"year":"2018","month":null,"day":null},"ids":{"DOI":"10.1109/TVCG.2017.2744818","arXiv":null},"target":"https://doi.org/10.1109/TVCG.2017.2744818","publisher":null,"journal":"IEEE Transactions on Visualization and Computer Graphics","series":null,"scope":{"volume":24,"pages":{"from_page":298,"to_page":308}}},"b3":{"title":"Den oknda Astrid Lindgren","authors":[{"person_name":{"surname":"Bohlund","first_name":"K"},"affiliations":[],"email":null}],"date":{"year":"2018","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":173,"to_page":173}}},"b4":{"title":"Dickens and the Stenographic Mind","authors":[{"person_name":{"surname":"Bowles","first_name":"H"},"affiliations":[],"email":null}],"date":{"year":"2018","month":null,"day":null},"ids":null,"target":null,"publisher":"Oxford University Press","journal":null,"series":null,"scope":null},"b5":{"title":"Histograms of oriented gradients for human detection","authors":[{"person_name":{"surname":"Dalal","first_name":"N"},"affiliations":[],"email":null},{"person_name":{"surname":"Triggs","first_name":"B"},"affiliations":[],"email":null}],"date":{"year":"2005","month":null,"day":null},"ids":{"DOI":"10.1109/CVPR.2005.177","arXiv":null},"target":"https://doi.org/10.1109/CVPR.2005.177","publisher":null,"journal":null,"series":null,"scope":{"volume":1,"pages":{"from_page":886,"to_page":893}}},"b6":{"title":"Transcription alignment of latin manuscripts using hidden markov models","authors":[{"person_name":{"surname":"Fischer","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Frinken","first_name":"V"},"affiliations":[],"email":null},{"person_name":{"surname":"Fornés","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Bunke","first_name":"H"},"affiliations":[],"email":null}],"date":{"year":"2011","month":null,"day":null},"ids":{"DOI":"10.1145/2037342.2037348","arXiv":null},"target":"https://doi.org/10.1145/2037342.2037348","publisher":"Association for Computing Machinery","journal":null,"series":null,"scope":null},"b7":{"title":"Improved illumination correction that preserves medium sized objects","authors":[{"person_name":{"surname":"Hast","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Marchetti","first_name":"A"},"affiliations":[],"email":null}],"date":{"year":"2014","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":"Machine Graphics & Vision","series":null,"scope":{"volume":23,"pages":{"from_page":3,"to_page":20}}},"b8":{"title":"Creating an atlas over handwritten script signs","authors":[{"person_name":{"surname":"Hast","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Mårtensson","first_name":"L"},"affiliations":[],"email":null},{"person_name":{"surname":"Vats","first_name":"E"},"affiliations":[],"email":null},{"person_name":{"surname":"Heil","first_name":"R"},"affiliations":[],"email":null}],"date":{"year":"2019","month":"08","day":null},"ids":null,"target":null,"publisher":null,"journal":null,"series":null,"scope":null},"b9":{"title":"Mnist handwritten digit database","authors":[{"person_name":{"surname":"Lecun","first_name":"Y"},"affiliations":[],"email":null},{"person_name":{"surname":"Cortes","first_name":"C"},"affiliations":[],"email":null},{"person_name":{"surname":"Burges","first_name":"C"},"affiliations":[],"email":null}],"date":{"year":"2010","month":null,"day":null},"ids":null,"target":"http://yann.lecun.com/exdb/mnist2","publisher":null,"journal":null,"series":null,"scope":null},"b10":{"title":"Computer acquisition and recognition of Pitman's handwritten shorthand","authors":[{"person_name":{"surname":"Leedham","first_name":"C"},"affiliations":[],"email":null}],"date":{"year":"1985","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":null,"series":null,"scope":null},"b11":{"title":"Visualizing data using t-sne","authors":[{"person_name":{"surname":"Van Der Maaten","first_name":"L"},"affiliations":[],"email":null},{"person_name":{"surname":"Hinton","first_name":"G"},"affiliations":[],"email":null}],"date":{"year":"2008","month":null,"day":null},"ids":null,"target":"http://jmlr.org/papers/v9/vandermaaten08a.html","publisher":null,"journal":"Journal of Machine Learning Research","series":null,"scope":{"volume":9,"pages":{"from_page":2579,"to_page":2605}}},"b12":{"title":"Umap: Uniform manifold approximation and projection for dimension reduction","authors":[{"person_name":{"surname":"Mcinnes","first_name":"L"},"affiliations":[],"email":null},{"person_name":{"surname":"Healy","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Melville","first_name":"J"},"affiliations":[],"email":null}],"date":{"year":"2020","month":null,"day":null},"ids":null,"target":null,"publisher":null,"journal":null,"series":null,"scope":null},"b13":{"title":"Aligning transcripts to automatically segmented handwritten manuscripts","authors":[{"person_name":{"surname":"Rothfeder","first_name":"J"},"affiliations":[],"email":null},{"person_name":{"surname":"Manmatha","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Rath","first_name":"T"},"affiliations":[],"email":null}],"date":{"year":"2006","month":null,"day":null},"ids":null,"target":null,"publisher":"Springer","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":84,"to_page":95}}},"b14":{"title":"Man tar vanliga ord: att läsa om Astrid Lindgren","authors":[{"person_name":{"surname":"Törnqvist","first_name":"L"},"affiliations":[],"email":null}],"date":{"year":"2015","month":null,"day":null},"ids":null,"target":null,"publisher":"Salikon","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":185,"to_page":185}}},"b15":{"title":"Rapport: Astrid lindgrens arkiv nya forskningsmjligheter","authors":[{"person_name":{"surname":"Trnqvist","first_name":"L"},"affiliations":[],"email":null}],"date":{"year":"2011","month":"11","day":null},"ids":{"DOI":"10.14811/clr.v34i2.127","arXiv":null},"target":"https://www.barnboken.net/index.php/clr/article/view/127","publisher":null,"journal":"Barnboken","series":null,"scope":{"volume":34,"pages":null}},"b16":{"title":"Automatic document image binarization using bayesian optimization","authors":[{"person_name":{"surname":"Vats","first_name":"E"},"affiliations":[],"email":null},{"person_name":{"surname":"Hast","first_name":"A"},"affiliations":[],"email":null},{"person_name":{"surname":"Singh","first_name":"P"},"affiliations":[],"email":null}],"date":{"year":"2017","month":null,"day":null},"ids":{"DOI":"10.1145/3151509.3151520","arXiv":null},"target":"https://doi.org/10.1145/3151509.3151520","publisher":"Association for Computing Machinery","journal":null,"series":null,"scope":null},"b17":{"title":"Bootstrapping weakly supervised segmentationfree word spotting through hmm-based alignment","authors":[{"person_name":{"surname":"Wilkinson","first_name":"T"},"affiliations":[],"email":null},{"person_name":{"surname":"Nettelblad","first_name":"C"},"affiliations":[],"email":null}],"date":{"year":"2020","month":null,"day":null},"ids":{"DOI":"10.1109/ICFHR2020.2020.00020","arXiv":null},"target":"https://doi.org/10.1109/ICFHR2020.2020.00020","publisher":null,"journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":49,"to_page":54}}},"b18":{"title":"A dataset and a novel neural approach for optical gregg shorthand recognition","authors":[{"person_name":{"surname":"Zhai","first_name":"F"},"affiliations":[],"email":null},{"person_name":{"surname":"Fan","first_name":"Y"},"affiliations":[],"email":null},{"person_name":{"surname":"Verma","first_name":"T"},"affiliations":[],"email":null},{"person_name":{"surname":"Sinha","first_name":"R"},"affiliations":[],"email":null},{"person_name":{"surname":"Klakow","first_name":"D"},"affiliations":[],"email":null}],"date":{"year":"2018","month":null,"day":null},"ids":null,"target":null,"publisher":"Springer International Publishing","journal":null,"series":null,"scope":{"volume":null,"pages":{"from_page":222,"to_page":230}}}},"sections":[{"title":"Introduction","paragraphs":[{"text":"Swedish author Astrid Lindgren holds a unique position within world literature, yet her enigmatic creative process, progressing from idea to finished work, has for many years been hidden in her original drafts and manuscripts, written in the stenographic system of Melin shorthand. These supposedly indecipherable original drafts have to a large extent contributed to Lindgrens creative process being surrounded by myth.","refs":[]},{"text":"Another factor in this myth-making relates to the role Lindgren played in the production process of her own books. The year after her breakthrough with Pippi Longstocking (1945), Lindgren was employed by her publishing house Rabn & Sjgren and became her own editor and publisher. Lindgren who used shorthand both for writing and editing typically typed up her own notepads into full prose manuscripts, which subsequently were delivered directly to the typesetter and printer. Her colleagues at Rabn & Sjgren reputedly first met her new books as they arrived in cardboard boxes from the printer [4]. This image is confirmed by the typed up manuscripts preserved in the Astrid Lindgren Archives, which have been described as flawless transcriptions which contain little to none information beyond the printed book [1,15]. Consequently, Lindgrens shorthand notepads is the only first hand source to her creative process and the development of her literary work.","refs":[{"start":594,"end":597,"marker":"bibr","target":"#b3"},{"start":812,"end":815,"marker":"bibr","target":"#b0"},{"start":815,"end":818,"marker":"bibr","target":"#b14"}]},{"text":"Altogether, 670 shorthand notepads are known to have been preserved. The major part (660) is in the possession of the Astrid Lindgren Archives at the National Library of Sweden1 , whereas the remaining ten are held at the Swedish Institute for Childrens Books 2 . The notepads include most of Lindgrens production, from her first published novels Confidences of Britt-Mari (1944) and Pippi Longstocking (1945) to her last, Ronia, the Robbers Daughter (1981). So far, 52 out of 670 notepads primarily containing shorthand drafts and manuscripts to The Brothers Lionheart (1973) have been digitized for the purposes of the ongoing interdisciplinary project, the Astrid Lindgren Code (20202022) 3 .","refs":[{"start":176,"end":177,"marker":null,"target":"#foot_0"}]}]},{"title":"Deciphering the \"undecipherable\" notepads: The Astrid Lindgren Code project","paragraphs":[{"text":"In contrast to those of other world famous authors of shorthand such as Charles Dickens [5], Lindgren's original manuscripts in shorthand have never been subject to research. Although an inventory of their content has been compiled by parliamentary secretary Britt Almstrm, manual transcription and analysis have been dismissed as highly time consuming or even impossible [16].","refs":[{"start":88,"end":91,"marker":"bibr","target":"#b4"},{"start":372,"end":376,"marker":"bibr","target":"#b15"}]},{"text":"The main purpose of the Astrid Lindgren Code project is the deciphering of Lindgrens stenography through HTR, applied and developed in interactive combination with collective transcription through volunteer expert sourcing. 4The Melin system which Lindgren used is the only form of shorthand widely practised in Sweden. Lindgren learned it in the 1920s as part of her professional secretarial training. The system is based partially on the German Gabelsberger system, working according to the frequency of particular sounds in the Swedish language, and is built on phonetic symbols which basic elements are vowels, consonants and consonant combinations, as well as a wide range of abbreviations and suffixes.","refs":[{"start":224,"end":225,"marker":null,"target":"#foot_2"}]},{"text":"The materiality of the notepads from pen colour to paper quality the stenographic practice of for example flipping the notepad and writing backwards in order to change topic or save paper, and the specific elements of a particular stenographic system (i.e. phonetically composed word images, personal abbreviations, contextual interpretation) all pose challenges to existing methods for HTR analysis.","refs":[]}]},{"title":"Challenges and Solutions","paragraphs":[{"text":"Generally, shorthand recognition has not been the focus of much research. Some works were performed in the 1980s to 90s, focusing on Pitman's shorthand, with one of the main resources being [11]. In addition, some research has been performed with regard to Gregg's shorthand system, most recently [19]. To the best of our knowledge, HTR has not yet been applied to manuscripts written in Gabelsberger or the Swedish Melin system.","refs":[{"start":190,"end":194,"marker":"bibr","target":"#b10"},{"start":297,"end":301,"marker":"bibr","target":"#b18"}]},{"text":"For the present corpus, 52 notepads, containing approximately 7000 pages, have been digitised up until now. These page images pose a number of challenges that have to be addressed before automatic recognition methods can be applied to the material. A selection of these challenges and our proposed solutions are briefly outlined in the following sections.","refs":[]}]},{"title":"Preprocessing and Segmentation","paragraphs":[{"text":"Firstly, the individual pages are handled by a preprocessing pipeline that prepares the material for the subsequent extraction and recognition stages. Due to the way the pages were written and digitised, the rotation of many images has to be adjusted in the first step, so that the text runs from the top left to the bottom right of the image. Generally, the first line of the writing follows after the ring binding, the latter of which can therefore be used to identify the actual top of the page. In a next step, the extent of the textual content is detected and the images are cropped accordingly (cf. Figure 1 a) and b)). Additionally, empty pages are identified and discarded. Subsequently, the illumination is corrected using [8] and the background is removed by applying [17], leaving only the greyscale pencil strokes. Finally, the boundaries of individual words are detected. In addition to this, the printed red lines, as shown e.g. in Figure 1 a), are identified and used to uniformly position the words during the extraction process. Examples for this positioning can be seen in Figure 2. The words are arranged so that the original printed line would run through the centre of each image. This step is especially crucial for the correct transcription of words, as the positioning of strokes, relative to the baseline of the text affects their transliteration. It should be noted that although this line may be of relevance for human transcribers, it is removed in the extracted words and represented implicitly by the relative positioning, in order to minimise the amount of distractions for the recognition algorithm.","refs":[{"start":612,"end":615,"marker":"figure","target":"#fig_0"},{"start":732,"end":735,"marker":"bibr","target":"#b7"},{"start":778,"end":782,"marker":"bibr","target":"#b16"},{"start":953,"end":956,"marker":"figure","target":"#fig_0"},{"start":1098,"end":1099,"marker":"figure","target":"#fig_2"}]},{"text":"Regarding the extraction of words, another challenge sometimes occurs in relation to the type of pencil Astrid Lindgren used. While most of the text was written with a common, grey lead pencil, for some portions, a red pen was used. As the lines are also printed in a shade of red, this overlap of colours may interfere with the regular processing as described above. Nevertheless, this problem can be solved by adapting the colour content before processing.","refs":[]}]},{"title":"Transcription Alignment","paragraphs":[{"text":"At the time of writing, approximately 70 pages have been transcribed by stenographers. These transcriptions are currently only available as pure text, on a  In English translation with added interpunctuation: \"No, Jonathan didn't kill Katla, Karm did that.\"","refs":[]},{"text":"page-level, and not yet associated with the respective word images which were obtained by the previous processing steps. In order to use this data for training and evaluation of segmentation-and learning-based recognition approaches, a mapping between word image and transcription is required. A number of approaches have been proposed in the past to facilitate such an alignment. Several of these are based on Hidden Markov Models, such as [7], [14] and most recently [18]. We intend to explore a similar approach for the ground-truth creation, possibly also employing more advanced natural language processing techniques.","refs":[{"start":441,"end":444,"marker":"bibr","target":"#b6"},{"start":446,"end":450,"marker":"bibr","target":"#b13"},{"start":469,"end":473,"marker":"bibr","target":"#b17"}]}]},{"title":"Semi-Automatic Transcription using Clustering","paragraphs":[{"text":"Given the limited ground-truth annotations that are currently available and the constraints on suitable transcribers, introduced by the stenographic material, we intend to apply a semi-automatic approach to speed up the transcription process. Once a larger amount of data has been transcribed, other methods, such as learning-based approaches, can be explored and applied to the remaining content.","refs":[]},{"text":"Our semi-automatic transcription approach is based on [9] and is related to active learning, e.g. [2], and visual-interactive labelling, e.g. [3]. Taking the segmented words, obtained by the preprocessing step in section 2.1, hand-crafted features, such as histograms of oriented gradients (HOG) [6] are extracted for each word image. Other feature extraction methods, e.g. via neural networks, are conceivable as well and will be evaluated in the context of this approach.","refs":[{"start":54,"end":57,"marker":"bibr","target":"#b8"},{"start":98,"end":101,"marker":"bibr","target":"#b1"},{"start":142,"end":145,"marker":"bibr","target":"#b2"},{"start":296,"end":299,"marker":"bibr","target":"#b5"}]},{"text":"The extracted features are mapped to a 2D representation, using dimensionality reduction techniques, such as t-SNE [12] and UMAP [13]. As has been proposed for handwritten digits (MNIST [10]), using HOG and t-SNE, in [9], the datapoints in the 2D representation are clustered together based on visual simi-  larities as shown in Fig. 3. This aspect of the visualisation will be employed in an interactive user interface (UI). The UI, which is currently under development, presents users (here: stenographers) with a rendering of the 2D datapoints. Users can select single or multiple points or whole clusters, inspect the associated word images and subsequently annotate them with a transcription.","refs":[{"start":115,"end":119,"marker":"bibr","target":"#b11"},{"start":129,"end":133,"marker":"bibr","target":"#b12"},{"start":186,"end":190,"marker":"bibr","target":"#b9"},{"start":217,"end":220,"marker":"bibr","target":"#b8"},{"start":334,"end":335,"marker":"figure","target":"#fig_4"}]},{"text":"One objective in this regard is to identify a combination of feature extractor and dimensionality reduction technique, such that the 2D representation results in homogeneous clusters that can be extracted and annotated, thereby transcribing large amounts of word images within a short amount of time and with limited user input.","refs":[]},{"text":"On the first cluster level words are clustered mainly based on their width as shown in Fig. 3. Sub-clustering is done by performing the t-SNE again on each cluster and an example is shown in Fig. 4. Depending on how many notepads are being processed, this process might need to be repeated several times. In the example, only one notepad has been processed and each cluster now contains rather few words and can therefore easily be examined visually. Fig. 5 shows the content of the two first heatmaps that mainly contain the word 'jonatan'. This shows that the technique described can be used to speed up transcription by facilitating annotation of batches of words, rather than transcribing word by word and line by line.","refs":[{"start":92,"end":93,"marker":"figure","target":"#fig_4"},{"start":196,"end":197,"marker":"figure","target":"#fig_5"},{"start":456,"end":457,"marker":"figure","target":"#fig_7"}]}]},{"title":"Conclusions","paragraphs":[{"text":"In this work we have introduced the Astrid Lindgren Code project, its inaccessible manuscripts as well as a selection of challenges that these pose to handwrit-ten text recognition. We address these challenges by introducing a preprocessing pipeline and proposing solutions for the annotation and transcription of the material, both by employing already made transcriptions and by providing an approach for the fast, semi-automatic processing of the remainder.","refs":[]},{"text":"The presented clusterings demonstrate that these stenographic texts which, as mentioned above, were once thought to be potentially impossible to transcribe, can indeed be processed by handwritten text recognition and document image analysis approaches.","refs":[]},{"text":"In the future, we intend to expand this application of HTR techniques with the goal of providing (semi-) automatic approaches for the fast and precise transcription of the more than 600 remaining manuscripts in this corpus.   ","refs":[]}]}],"tables":{},"abstract":{"title":"Abstract","paragraphs":[{"text":"Astrid Lindgren, Swedish author of children's books, is known for having both composed and edited her literary work in the Melin system of shorthand (a Swedish shorthand system based on Gabelsberger). Her original drafts and manuscripts are preserved in 670 stenographed notepads kept at the National Library of Sweden and The Swedish Institute of Children's Books. For long these notepads have been considered undecipherable and are until recently untouched by research. This paper introduces handwritten text recognition (HTR) and document image analysis (DIA) approaches to address the challenges inherent in Lindgren's original drafts and manuscripts. It broadly covers aspects such as preprocessing and extraction of words, alignment of transcriptions and the fast transcription of large amounts of words. This is the first work to apply HTR and DIA to Gabelsberger-based shorthand material. In particular, it presents early-stage results which demonstrate that these stenographed manuscripts can indeed be transcribed, both manually by experts and by employing computerised approaches.","refs":[]}]}}